<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Good Day Cafe</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <link rel="stylesheet" href="assets/css/menupage_styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300..700;1,300..700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&family=Playfair+Display:ital,wght@0,400..900;1,400..900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900&display=swap" rel="stylesheet">
    <style>
      .quantity-selector { display: flex; align-items: center; gap: 10px; margin-top: 15px; }
      .quantity-btn { width: 30px; height: 30px; border: 1px solid #ccc; background: white; border-radius: 4px; }
      .quantity-display { min-width: 30px; text-align: center; font-weight: bold; }
      .cart-item { background: #f8f9fa; border-radius: 8px; padding: 12px; margin-bottom: 10px; }
      .cart-total { font-size: 1.25rem; font-weight: bold; background: rgb(92, 78, 59); color: white; padding: 15px; border-radius: 8px; }
    </style>
  </head>

  <body style="background:rgb(245, 240, 233);">

    <header>
      <!-- Carousel: autoplay enabled via data attributes below -->
      <div id="carouselExampleAutoplaying" class="carousel slide" data-bs-ride="carousel" data-bs-interval="10000" data-bs-pause="hover" aria-label="Featured images carousel">
        <!-- Indicators -->
        <div class="carousel-indicators">
          <button type="button" data-bs-target="#carouselExampleAutoplaying" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
          <button type="button" data-bs-target="#carouselExampleAutoplaying" data-bs-slide-to="1" aria-label="Slide 2"></button>
          <button type="button" data-bs-target="#carouselExampleAutoplaying" data-bs-slide-to="2" aria-label="Slide 3"></button>
          <button type="button" data-bs-target="#carouselExampleAutoplaying" data-bs-slide-to="3" aria-label="Slide 4"></button>
        </div>

        <!-- Slides -->
        <div class="carousel-inner">
          <div class="carousel-item active">
            <img src="assets/img/Gemini_Generated_Image_hkvt8ahkvt8ahkvt.png" class="d-block w-100 gooddaylogoccarosel-img" alt="Coffee and pastries — slide 1" style="height:500px; object-fit:cover;">
          </div>

          <div class="carousel-item">
            <img src="assets/img/Gemini_Generated_Image_dw50l4dw50l4dw50.png" class="d-block w-100" alt="Coffee closeup — slide 2" style="height:500px; object-fit:cover; object-position: center;">
            <div class="carousel-caption d-none d-md-block text-start">
              <h3 class="font-playfair fw-bold">Try our Refreshing refreshers!</h3>
              <p>Some representative placeholder content for the second slide.</p>
            </div>
          </div>

          <div class="carousel-item">
            <img src="assets/img/Gemini_Generated_Image_dl8qt7dl8qt7dl8q.png" class="d-block w-100" alt="Pastries display — slide 3" style="height:500px; object-fit:cover;">
            <div class="carousel-caption d-none d-md-block text-start">
              <h3 class="font-playfair fw-bold">Third slide label</h3>
              <p>Some representative placeholder content for the third slide.</p>
            </div>
          </div>
        
          <div class="carousel-item">
            <img src="assets/img/Add_a_subheading.png" class="d-block w-100" alt="Pastries display — slide 3" style="height:500px; object-fit:cover;">
          </div>
        </div>

        <!-- Controls -->
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleAutoplaying" data-bs-slide="prev" aria-label="Previous slide">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleAutoplaying" data-bs-slide="next" aria-label="Next slide">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>
    </header>

    <div style="padding-top: 30px;">
      <div class="container text-center py-4 mb-1">
        <h1 class="font-playfair fw-bold" style="font-size: 75px;">Our Menu</h1>
        <p class="lead">Explore our delicious offerings below!</p>
      </div>
    </div>

    <!-- NAVBAR -->
    <div class="container-fluid py-2 mb-2">
      <div class="container py-3 px-3" style="background: rgb(92, 78, 59); border-radius:40px;">
        <div class="d-flex justify-content-center gap-2 align-items-center flex-wrap">
          <!-- Search -->
          <form class="d-flex" role="search" aria-label="Site search">
            <div class="input-group input-group-sm">
              <input class="form-control form-control-sm rounded-pill" type="search" placeholder="Search" aria-label="Search" style="background:white; border:1px solid rgb(252, 215, 126); color:rgb(92, 78, 59);" />
              <button class="btn btn-sm rounded-pill ms-1 search-btn" type="submit" aria-label="Submit search">
                <i class="bi bi-search"></i>
              </button>
            </div>
          </form>

          <!-- Nav Buttons -->
          <div class="d-flex gap-1 flex-wrap">
            <a href="#" class="btn btn-sm rounded-pill nav-btn px-3 text-decoration-none text-white">Iced-Drinks</a>
            <a href="#" class="btn btn-sm rounded-pill nav-btn px-3 text-decoration-none text-white">Hot-Drinks</a>
            <a href="#" class="btn btn-sm rounded-pill nav-btn px-3 text-decoration-none text-white">Refreshers</a>
            <a href="#" class="btn btn-sm rounded-pill nav-btn px-3 text-decoration-none text-white">Pastries</a>
            <a href="#" class="btn btn-sm rounded-pill nav-btn px-3 text-decoration-none text-white">Pizzas</a>

            <!-- Cart -->
            <a href="#" class="btn btn-sm rounded-pill nav-btn px-3 text-decoration-none text-white" data-bs-toggle="offcanvas" data-bs-target="#cart" aria-controls="cart">
              Cart <i class="bi bi-cart-fill"></i>
            </a>
          </div>
        </div>
      </div>
    </div>
    <!-- /NAVBAR -->

    <div style="padding-top: 20px;">
      <div class="container-fluid">
        <div class="container text-start">
          <h1 class="font-playfair fw-bold" style="font-size: 100px;">Iced Drinks</h1>
          <p>Check out some of our popular Iced Drinks items!</p>
        </div>
      </div>

    <!-- Clickable Cards -->
    <div class="container py-5" id="card-section-Iced-Coffee">
      <div class="row justify-content-center g-4">

        <!-- Iced-Americano -->
        <div class="col-12 col-sm-6 col-md-4 col-lg-3 d-flex align-items-stretch" id="Iced-Americano_Card">
          <div class="card w-100 h-100 text-center" style="background-color: rgb(92, 78, 59);">
            <div class="card-img-container beige-custom" style="overflow: hidden; height: 200px; box-shadow: 10px 10px 10px rgba(0,0,0,0.5); background-color: rgb(237, 223, 203);">  
              <img src="assets/img/DrinksandFood/Iced Drinks/Iced-Americano.png" class="card-img-top" alt="Iced Americano" style="transform: scale(1.5); transform-origin: center;">
            </div>
            <div style="padding-top: 30px;">
              <div class="card-body d-flex flex-column py-4">
                <h5 class="card-title beige-custom">Iced Americano</h5>
                <p class="card-text beige-custom">Bold coffee flavor, chilled to perfection. The ultimate cold kick.</p>
                <div class="mt-auto d-flex gap-2 justify-content-center">
                  <a href="#" class="stretched-link" data-bs-toggle="modal" data-bs-target="#Iced-Americano-modal" aria-label="Open details for Iced Americano"></a>
                  <button type="button" class="btn btn-cart" onclick="addToCartFromCard('Iced Americano', 3.50)">Add to Cart <i class="bi bi-cart-fill"></i></button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Iced-Latte -->
        <div class="col-12 col-sm-6 col-md-4 col-lg-3 d-flex align-items-stretch" id="Iced-Latte_Card">
          <div class="card w-100 h-100 text-center" style="background-color: rgb(92, 78, 59);">
            <div class="card-img-container" style="overflow: hidden; height: 200px; box-shadow: 10px 10px 10px rgba(0,0,0,0.5); padding-left: 20px; background-color: rgb(237, 223, 203);">  
              <img src="assets/img/DrinksandFood/Iced Drinks/Iced-Latte.png" class="card-img-top" alt="Iced Latte" style="transform: scale(4); transform-origin: center;">
            </div>
            <div style="padding-top: 30px;">
              <div class="card-body d-flex flex-column py-4">
                <h5 class="card-title beige-custom">Iced Latte</h5>
                <p class="card-text beige-custom">Espresso and fresh milk served over ice. A cool, creamy classic.</p>
                <div class="mt-auto d-flex gap-2 justify-content-center">
                  <a href="#" class="stretched-link" data-bs-toggle="modal" data-bs-target="#Iced-Latte-modal" aria-label="Open details for Iced Latte"></a>
                  <button type="button" class="btn btn-cart" onclick="addToCartFromCard('Iced Latte', 4.00)">Add to Cart <i class="bi bi-cart-fill"></i></button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Iced-Matcha -->
        <div class="col-12 col-sm-6 col-md-4 col-lg-3 d-flex align-items-stretch" id="Iced-Matcha-Latte_Card">
          <div class="card w-100 h-100 text-center" style="background-color: rgb(92, 78, 59);">
            <div class="card-img-container" style="overflow: hidden; height: 200px; box-shadow: 10px 10px 10px rgba(0,0,0,0.5); background-color: rgb(237, 223, 203); padding-left: 55px; padding-top: 45px;">   
              <img src="assets/img/DrinksandFood/Iced Drinks/Iced_Matcha_Latte.png" class="card-img-top" alt="Iced Matcha Latte" style="transform: scale(2.7); transform-origin: center;">
            </div>
            <div style="padding-top: 30px;">
              <div class="card-body d-flex flex-column py-4">
                <h5 class="card-title beige-custom">Iced Matcha Latte</h5>
                <p class="card-text beige-custom">Vibrant green matcha and creamy milk, served perfectly chilled.</p>
                <div class="mt-auto d-flex gap-2 justify-content-center">
                  <a href="#" class="stretched-link" data-bs-toggle="modal" data-bs-target="#Iced-Matcha-modal" aria-label="Open details for Iced Matcha Latte"></a>
                  <button type="button" class="btn btn-cart" onclick="addToCartFromCard('Iced Matcha Latte', 4.50)">Add to Cart <i class="bi bi-cart-fill"></i></button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Iced-Spannish -->
        <div class="col-12 col-sm-6 col-md-4 col-lg-3 d-flex align-items-stretch" id="Iced-Spannish-Latte_Card">
          <div class="card w-100 h-100 text-center" style="background-color: rgb(92, 78, 59);">
            <div class="card-img-container beige-custom" style="overflow: hidden; height: 200px; box-shadow: 10px 10px 10px rgba(0,0,0,0.5); background-color: rgb(237, 223, 203); padding-left: 15px; padding-top: 20px;"> 
              <img src="assets/img/DrinksandFood/Iced Drinks/Spannish-Latte.png" class="card-img-top" alt="Iced Spannish Latte" style="transform: scale(1.5); transform-origin: center;">
            </div>
            <div style="padding-top: 30px;">
              <div class="card-body d-flex flex-column py-4">
                <h5 class="card-title beige-custom">Iced Spannish Latte</h5>
                <p class="card-text beige-custom">Bold coffee flavor with sweet cinnamon, chilled to perfection.</p>
                <div class="mt-auto d-flex gap-2 justify-content-center">
                  <a href="#" class="stretched-link" data-bs-toggle="modal" data-bs-target="#Iced-Spannish-modal" aria-label="Open details for Iced Spannish Latte"></a>
                  <button type="button" class="btn btn-cart" onclick="addToCartFromCard('Iced Spannish Latte', 4.75)">Add to Cart <i class="bi bi-cart-fill"></i></button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Iced Americano Modal -->
    <div class="modal fade" id="Iced-Americano-modal" tabindex="-1" aria-labelledby="Iced-Americano-modal-Label" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <div class="w-100 text-center">
              <h1 class="modal-title fs-5" id="drink1Label">Iced Americano</h1>
            </div>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <img src="assets/img/DrinksandFood/Iced Drinks/Iced-Americano.png" class="img-fluid mb-3" alt="Iced Americano close-up">
            <div class="container">
              <div class="card" style="max-width: 400px; margin: 0 auto;">
                <div class="card-body text-center">
                  <h5 class="card-title">Iced Americano</h5>
                  <div class="d-flex justify-content-center gap-3 mb-3">
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="americanoSize" id="SmallSize" value="S" checked>
                      <label class="form-check-label" for="SmallSize">S</label>
                    </div>
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="americanoSize" id="MediumSize" value="M">
                      <label class="form-check-label" for="MediumSize">M</label>
                    </div>
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="americanoSize" id="LargeSize" value="L">
                      <label class="form-check-label" for="LargeSize">L</label>
                    </div>
                  </div>
                  <p class="card-text"><strong>Price:</strong> <span id="americanoPrice">$3.50</span></p>
                  <div class="quantity-selector mx-auto">
                    <button class="quantity-btn" type="button" onclick="changeQuantity('americano', -1)">−</button>
                    <span class="quantity-display" id="americanoQuantity">1</span>
                    <button class="quantity-btn" type="button" onclick="changeQuantity('americano', 1)">+</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            <button type="button" class="btn btn-cart" onclick="addToCartFromModal('Iced-Americano-modal')">Add to Cart <i class="bi bi-cart-fill"></i></button>
          </div>
        </div>
      </div>
    </div>

    <!-- Iced Latte Modal (Updated with size/quantity) -->
    <div class="modal fade" id="Iced-Latte-modal" tabindex="-1" aria-labelledby="Iced-Latte-modal-Label" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-5 w-100 text-center" id="Iced-Latte-modal-Label">Iced Latte</h1>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <img src="assets/img/DrinksandFood/Iced Drinks/Iced-Latte.png" class="img-fluid mb-3" alt="Iced Latte close-up" style="max-height: 300px; object-fit: cover;">
            <div class="container">
              <div class="card" style="max-width: 400px; margin: 0 auto;">
                <div class="card-body text-center">
                  <h5 class="card-title">Iced Latte</h5>
                  <div class="d-flex justify-content-center gap-3 mb-3">
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="latteSize" id="latteS" value="S" checked>
                      <label class="form-check-label" for="latteS">S</label>
                    </div>
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="latteSize" id="latteM" value="M">
                      <label class="form-check-label" for="latteM">M</label>
                    </div>
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="latteSize" id="latteL" value="L">
                      <label class="form-check-label" for="latteL">L</label>
                    </div>
                  </div>
                  <p class="card-text"><strong>Price:</strong> <span id="lattePrice">$4.00</span></p>
                  <div class="quantity-selector mx-auto">
                    <button class="quantity-btn" type="button" onclick="changeQuantity('latte', -1)">−</button>
                    <span class="quantity-display" id="latteQuantity">1</span>
                    <button class="quantity-btn" type="button" onclick="changeQuantity('latte', 1)">+</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            <button type="button" class="btn btn-cart" onclick="addToCartFromModal('Iced-Latte-modal')">Add to Cart <i class="bi bi-cart-fill"></i></button>
          </div>
        </div>
      </div>
    </div>

    <!-- OFFCANVAS CART -->
    <div class="offcanvas offcanvas-end" data-bs-scroll="true" data-bs-backdrop="false" tabindex="-1" id="cart" aria-labelledby="offcanvasScrollingLabel">
      <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="offcanvasScrollingLabel">Current Orders</h5>
        <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
      </div>
      <div class="offcanvas-body" id="cartBody">
        <p>Your cart is empty. Add items to see them here.</p>
      </div>
      <div class="offcanvas-footer p-3 border-top">
        <div id="cartTotal" class="cart-total d-none">
          <div class="d-flex justify-content-between">
            <span>Total:</span>
            <span id="totalAmount">$0.00</span>
          </div>
          <button class="btn btn-success w-100 mt-2">Checkout</button>
        </div>
      </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>

    <!-- CART FUNCTIONALITY -->
    <script>
      let cart = JSON.parse(localStorage.getItem('goodDayCart')) || [];

      // Prices by size (base prices)
      const prices = {
        'Iced Americano': { S: 3.50, M: 4.00, L: 4.50 },
        'Iced Latte': { S: 4.00, M: 4.50, L: 5.00 },
        'Iced Matcha Latte': { S: 4.50, M: 5.00, L: 5.50 },
        'Iced Spannish Latte': { S: 4.75, M: 5.25, L: 5.75 }
      };

      function updateCartDisplay() {
        const cartBody = document.getElementById('cartBody');
        const cartTotal = document.getElementById('cartTotal');
        const totalAmount = document.getElementById('totalAmount');

        if (cart.length === 0) {
          cartBody.innerHTML = '<p class="text-center text-muted">Your cart is empty. Add items to see them here.</p>';
          cartTotal.classList.add('d-none');
          return;
        }

        let html = '';
        let total = 0;

        cart.forEach((item, index) => {
          const itemTotal = item.price * item.quantity;
          total += itemTotal;
          html += `
            <div class="cart-item">
              <div class="d-flex justify-content-between align-items-start">
                <div>
                  <strong>${item.name} (${item.size})</strong>
                  <br><small class="text-muted">$${item.price.toFixed(2)} × ${item.quantity}</small>
                </div>
                <div class="d-flex align-items-center">
                  <button class="btn btn-sm btn-outline-secondary me-1" onclick="updateQuantity(${index}, -1)">−</button>
                  <span class="mx-2 fw-bold">${item.quantity}</span>
                  <button class="btn btn-sm btn-outline-secondary ms-1" onclick="updateQuantity(${index}, 1)">+</button>
                  <button class="btn btn-sm btn-danger ms-2" onclick="removeItem(${index})">×</button>
                </div>
              </div>
              <small class="text-success fw-bold float-end">$${itemTotal.toFixed(2)}</small>
            </div>
          `;
        });

        cartBody.innerHTML = html;
        totalAmount.textContent = `$${total.toFixed(2)}`;
        cartTotal.classList.remove('d-none');
        localStorage.setItem('goodDayCart', JSON.stringify(cart));
      }

      function addToCartFromCard(name, basePrice) {
        const size = 'M'; // Default size for cards
        const price = basePrice;
        addItemToCart(name, price, size);
      }

      function addToCartFromModal(modalId) {
        const modal = document.getElementById(modalId);
        const name = modal.querySelector('.modal-title').textContent;
        const sizeInput = modal.querySelector('input[name*="' + modalId.split('-')[0] + 'Size"], input[name*="' + modalId.split('-')[1] + 'Size"]:checked');
        const size = sizeInput ? sizeInput.value : 'M';
        const quantityElement = modal.querySelector('.quantity-display');
        const quantity = parseInt(quantityElement.textContent) || 1;
        
        const price = prices[name]?.[size] || 4.00;
        for(let i = 0; i < quantity; i++) {
          addItemToCart(name, price, size);
        }
        bootstrap.Modal.getInstance(modal).hide();
      }

      function addItemToCart(name, price, size) {
        const existingItem = cart.find(item => item.name === name && item.size === size);
        if (existingItem) {
          existingItem.quantity += 1;
        } else {
          cart.push({ name, price, size, quantity: 1 });
        }
        updateCartDisplay();
      }

      function updateQuantity(index, change) {
        cart[index].quantity += change;
        if (cart[index].quantity <= 0) {
          cart.splice(index, 1);
        }
        updateCartDisplay();
      }

      function removeItem(index) {
        cart.splice(index, 1);
        updateCartDisplay();
      }

      function changeQuantity(type, change) {
        const quantityElement = document.getElementById(type + 'Quantity');
        let quantity = parseInt(quantityElement.textContent);
        quantity = Math.max(1, quantity + change);
        quantityElement.textContent = quantity;
      }

      // Size price updates
      document.querySelectorAll('input[type="radio"]').forEach(radio => {
        radio.addEventListener('change', function() {
          const modalId = this.closest('.modal').id;
          const name = document.querySelector('#' + modalId + ' .modal-title').textContent;
          const size = this.value;
          const priceElement = document.getElementById(modalId.split('-')[0] + 'Price') || document.getElementById('lattePrice');
          const price = prices[name]?.[size] || 4.00;
          priceElement.textContent = `$${price.toFixed(2)}`;
        });
      });

      // Initialize
      document.addEventListener('DOMContentLoaded', updateCartDisplay);
    </script>
  </body>
</html>
